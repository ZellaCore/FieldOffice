{"remainingRequest":"/home/ian/Codes/fo-git/FieldOffice/node_modules/babel-loader/lib/index.js??ref--1-1!/home/ian/Codes/fo-git/FieldOffice/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ian/Codes/fo-git/FieldOffice/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ian/Codes/fo-git/FieldOffice/src/components/employee/EmployeeProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ian/Codes/fo-git/FieldOffice/src/components/employee/EmployeeProfile.vue","mtime":1554398216375},{"path":"/home/ian/Codes/fo-git/FieldOffice/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ian/Codes/fo-git/FieldOffice/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ian/Codes/fo-git/FieldOffice/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ian/Codes/fo-git/FieldOffice/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Date$now from \"/home/ian/Codes/fo-git/FieldOffice/node_modules/@babel/runtime-corejs2/core-js/date/now\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/ian/Codes/fo-git/FieldOffice/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport store from '../../../gridsome.server.js';\nexport default {\n  name: 'EmployeeProfile',\n  data: function data() {\n    return {\n      name: 'Ian Moncrieffe',\n      user: '',\n      userId: '',\n      employeeModal: false,\n      employees: [],\n      employee_search: '',\n      employee: {\n        firstname: '',\n        lastname: '',\n        alias: '',\n        dob: '',\n        sex: '',\n        occupation: '',\n        address: '',\n        timestamp: Date(),\n        author: '',\n        imgs: function imgs() {\n          return {\n            images: []\n          };\n        }\n      }\n    };\n  },\n  components: {},\n  methods: {\n    getName: function getName() {\n      return this.employee.firstname + ' ' + this.employee.lastname;\n    },\n    getEmployee: function () {\n      var _getEmployee = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var response, eimgUrl;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.get('http://192.168.0.17:15000/api/employee/' + this.employee_search);\n\n              case 3:\n                response = _context.sent;\n                this.employee = response.data;\n                eimgUrl = \"http://192.168.0.17:15000/static/images/profile/\".concat(this.employee.eid, \".png\");\n                this.employee.profile_img = eimgUrl;\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](0);\n                console.error(_context.t0);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 9]]);\n      }));\n\n      function getEmployee() {\n        return _getEmployee.apply(this, arguments);\n      }\n\n      return getEmployee;\n    }(),\n    getEmployeeAge: function getEmployeeAge() {\n      var bdate = new Date(this.employee.dob);\n      var date_diff = _Date$now() - bdate;\n      var age_dt = new Date(date_diff);\n      return Math.abs(age_dt.getUTCFullYear() - 1970);\n    }\n  },\n  mounted: function mounted() {}\n};",{"version":3,"sources":["EmployeeProfile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,KAAA,MAAA,6BAAA;AAIA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,gBADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA,EAHA;AAIA,MAAA,aAAA,EAAA,KAJA;AAKA,MAAA,SAAA,EAAA,EALA;AAMA,MAAA,eAAA,EAAA,EANA;AAOA,MAAA,QAAA,EAAA;AACA,QAAA,SAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,KAAA,EAAA,EAHA;AAIA,QAAA,GAAA,EAAA,EAJA;AAKA,QAAA,GAAA,EAAA,EALA;AAMA,QAAA,UAAA,EAAA,EANA;AAOA,QAAA,OAAA,EAAA,EAPA;AAQA,QAAA,SAAA,EAAA,IAAA,EARA;AASA,QAAA,MAAA,EAAA,EATA;AAUA,QAAA,IAVA,kBAUA;AACA,iBAAA;AACA,YAAA,MAAA,EAAA;AADA,WAAA;AAGA;AAdA;AAPA,KAAA;AAwBA,GA5BA;AA6BA,EAAA,UAAA,EAAA,EA7BA;AAiCA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,aAAA,KAAA,QAAA,CAAA,SAAA,GAAA,GAAA,GAAA,KAAA,QAAA,CAAA,QAAA;AACA,KAHA;AAIA,IAAA,WAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAOA,KAAA,CAAA,GAAA,CAAA,4CAAA,KAAA,eAAA,CAPA;;AAAA;AAOA,gBAAA,QAPA;AAQA,qBAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AACA,gBAAA,OATA,6DASA,KAAA,QAAA,CAAA,GATA;AAUA,qBAAA,QAAA,CAAA,WAAA,GAAA,OAAA;AAVA;AAAA;;AAAA;AAAA;AAAA;AAcA,gBAAA,OAAA,CAAA,KAAA;;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAiBA,IAAA,cAjBA,4BAiBA;AAEA,UAAA,KAAA,GAAA,IAAA,IAAA,CAAA,KAAA,QAAA,CAAA,GAAA,CAAA;AACA,UAAA,SAAA,GAAA,cAAA,KAAA;AACA,UAAA,MAAA,GAAA,IAAA,IAAA,CAAA,SAAA,CAAA;AAEA,aAAA,IAAA,CAAA,GAAA,CAAA,MAAA,CAAA,cAAA,KAAA,IAAA,CAAA;AAEA;AAzBA,GAjCA;AA6DA,EAAA,OA7DA,qBA6DA,CAIA;AAjEA,CAAA","sourcesContent":["<template>\n    <div class=\"container min-h-screen bg-grey-light font-sans \">\n\n    <form class=\"w-full max-w-xs  mr-5 py-20 absolute pin-t pin-r\">\n  <div class=\"flex items-center border-b border-b-2 border-teal py-2\">\n    <input class=\"appearance-none bg-transparent border-none w-full text-grey-darker mr-3 py-1 px-2 leading-tight focus:outline-none\" type=\"text\" placeholder=\"Employee's name or Id\" aria-label=\"Full name\" v-model=\"employee_search\">\n    <button class=\"flex-no-shrink bg-teal hover:bg-teal-dark border-teal hover:border-teal-dark text-sm border-4 text-white py-1 px-2 rounded\" type=\"button\" @click=\"getEmployee\">\n      Get Employee\n    </button>\n    \n  </div>\n</form>\n        <div class=\"card max-w-full mr-5\">\n                    \n            <div class=\"flex mb-4\">\n                <div class=\"w-1/2 bg-grey h-12\">\n                  <h1 class=\"capitalize sm:text-base lg:text-2xl lg:px-10 lg:py-1 sm:text-center sm:py-3\">{{getName()}}</h1>\n                \n                </div>\n                <div class=\"w-1/2 bg-grey h-12\">\n                   <h1  class=\"lg:px-20 lg:py-1 sm:text-base sm:px-5 lg:text-2xl sm:text-center sm:py-3\">{{employee.eid}}</h1>\n                </div>\n            </div>\n\n             <div class=\"flex mb-4\">\n                <div class=\"w-1/2 bg-grey h-12\">\n                \n                \n\n              <ul class=\"list-reset w-full border-r border-r-2 border-teal\">\n              <li class=\"bg-grey border-b border-b-2 border-teal p-1 pl-5 text-center text-grey-darker font-bold\">Employee Profile</li>\n\n              <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\"> <img class=\"rounded lg:ml-10\" width=\"180px\" v-bind:src=\"employee.profile_img\"/></li>\n             \n              \n              <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\">A.K.A <span class=\"text-sm pl-5  capitalize lg:float-right sm:float-none\">{{employee.alias}}</span></li>\n               \n              <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\">Sex<span class=\"text-sm pl-5 lg:float-right sm:float-none capitalize\">{{employee.sex}}</span></li>\n               <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\">DOB <span class=\"text-sm pl-5 lg:float-right sm:float-none\" >{{new Date(employee.dob).toLocaleString()}}</span></li>\n               <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\">Age <span class=\"text-sm pl-5 lg:float-right sm:float-none\" >{{getEmployeeAge()}}</span></li>\n              <li class=\"bg-grey border-b border-b-2 border-teal p-1 pl-5 text-center text-grey-darker font-bold\">Occupation/ Skills</li>\n            <li class=\"bg-blue-lightest border-b border-b-2 border-teal  p-1 pl-2\">Occupation <span class=\"text-sm pl-5 capitalize lg:float-right sm:float-none\" >{{employee.occupation}}</span></li>\n             <li class=\"bg-blue-lightest border-b border-b-2 border-teal  p-1 pl-2\">Level <span class=\"text-sm pl-5 capitalize lg:float-right sm:float-none\" >{{employee.skilllevel}}</span></li>\n             <li class=\"bg-blue-lightest border-b border-b-2 border-teal  p-1 pl-2\">Other <span class=\"text-sm pl-5 capitalize lg:float-right sm:float-none\" >{{employee.other}}</span></li>\n             \n               <li class=\"bg-grey border-b border-b-2 border-teal p-1 pl-5 text-center text-grey-darker font-bold\">Location</li>\n             <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\">Address <span class=\"text-sm pl-5 lg:float-right sm:float-none\" >{{employee.address}}</span></li>\n\n             <li class=\"bg-grey border-b border-b-2 border-teal p-1 pl-5 text-center text-grey-darker font-bold\">Employee Contacts</li>\n              <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\">Tel. <span class=\"text-sm pl-5 lg:float-right sm:float-none\" >{{employee.tel}}</span></li>\n              <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\">Email <span class=\"text-sm pl-5 lg:float-right sm:float-none\" >{{employee.email}}</span></li>\n              <li class=\"bg-grey border-b border-b-2 border-teal p-1 pl-5 text-center text-grey-darker font-bold\">Employee Banking</li>\n               <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\">Bank <span class=\"text-sm pl-5 lg:float-right sm:float-none\" >{{employee.bankname}}</span></li>\n                <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\">Account <span class=\"text-sm pl-5 lg:float-right sm:float-none\" >{{employee.account}}</span></li>\n                  <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\">Branch <span class=\"text-sm pl-5 lg:float-right sm:float-none capitalize\" >{{employee.branch}}</span></li>\n                \n            </ul>\n\n                </div>\n                  <div class=\"w-1/2 bg-grey h-12 mb-5 overflow-y:auto \">\n              \n                <ul class=\"list-reset\">\n                  <li class=\"bg-grey border-b border-b-2 border-teal p-1 pl-5 text-center text-grey-darker font-bold\">Gov/ Legal</li>\n                   <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\">Government ID <span class=\"text-sm pl-5 lg:float-right sm:float-none\" >{{employee.govid}}</span></li>\n                    <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\">NIS<span class=\"text-sm pl-5 lg:float-right sm:float-none\" >{{employee.nis}}</span></li>\n                     <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\">TRN<span class=\"text-sm pl-5 lg:float-right sm:float-none\" >{{employee.trn}}</span></li>\n                     <li class=\"bg-grey border-b border-b-2 border-teal p-1 pl-5 text-center text-grey-darker font-bold\">Employee Welfare</li>\n                      <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\">Union<span class=\"text-sm pl-5 lg:float-right sm:float-none\" >{{employee.union}}</span></li>\n                       <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\">Pension Scheme <span class=\"text-sm pl-5 lg:float-right sm:float-none\" >{{employee.pension}}</span></li>\n\n                        <li class=\"bg-grey border-b border-b-2 border-teal p-1 pl-5 text-center text-grey-darker font-bold\">Employee Siblings</li>\n\n                       \n                        <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\">Kin <span class=\"text-sm pl-5 capitalize lg:float-right sm:float-none\" >{{employee.kinname}}</span></li>\n                   <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\">Contact <span class=\"text-sm pl-5 lg:float-right sm:float-none\" >{{employee.kinmobile}}</span></li>\n                    <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\"> Email <span class=\"text-sm pl-5 lg:float-right sm:float-none\" >{{employee.kinemail}}</span></li>\n                      <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\"> Relation <span class=\"text-sm pl-5 lg:float-right sm:float-none capitalize\" >{{employee.relation}}</span></li>\n                       <li class=\"bg-grey border-b border-b-2 border-teal p-1 pl-5 text-center text-grey-darker font-bold\">Tasks </li>\n                       \n\n                </ul>\n                  \n                     \n                <ul class=\"list-reset\" v-for=\"task in employee.tasks\" :key=\"task.tid\">\n                   <li class=\"bg-blue-lightest border-b border-b-2 border-teal p-1 pl-2\">{{task.tid}}<span class=\"text-sm pl-5 lg:float-right sm:float-none\" >{{task.title}}</span></li>\n\n                </ul>\n                  </div>\n             </div>\n           \n\n        </div>\n\n    </div>\n</template>\n\n\n<script>\nimport axios from 'axios';\nimport store from '../../../gridsome.server.js'\n\n\n\nexport default {\n    name: 'EmployeeProfile',\n    \n    data () {\n        return {\n        name: 'Ian Moncrieffe',\n        user:'',\n        userId:'',\n        employeeModal: false,\n        employees: [],\n        employee_search: '',\n        employee:{\n            firstname: '',\n            lastname:'',\n            alias: '',\n            dob: '',\n            sex: '',\n            occupation:'',\n            address: '',\n            timestamp: Date(),\n            author:'',\n            imgs (){\n            return {\n                images:[]\n            }\n            }\n        }\n        }\n    },\n  components:{ \n           \n    \n  },\n  methods: {\n      getName(){\n          return this.employee.firstname + ' ' + this.employee.lastname;\n      },\n      async getEmployee(){\n        try {\n\n          const response = await axios.get('http://192.168.0.17:15000/api/employee/' + this.employee_search);\n          this.employee = response.data;\n          const eimgUrl = `http://192.168.0.17:15000/static/images/profile/${this.employee.eid}.png`\n          this.employee.profile_img = eimgUrl;\n         \n\n        } catch (error) {\n          console.error(error);\n        }\n      },\n      getEmployeeAge() {\n       \n        var bdate = new Date(this.employee.dob);\n        var date_diff = Date.now() - bdate;\n        var age_dt = new Date(date_diff)\n\n        return Math.abs(age_dt.getUTCFullYear() - 1970);\n        \n      }\n      \n  },\nmounted(){\n \n \n    \n  }\n}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":"src/components/employee"}]}