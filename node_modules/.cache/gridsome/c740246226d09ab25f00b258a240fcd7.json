{"remainingRequest":"/home/ian/Codes/fo-git/FieldOffice/node_modules/babel-loader/lib/index.js??ref--1-1!/home/ian/Codes/fo-git/FieldOffice/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ian/Codes/fo-git/FieldOffice/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ian/Codes/fo-git/FieldOffice/src/pages/Employees.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ian/Codes/fo-git/FieldOffice/src/pages/Employees.vue","mtime":1554944311402},{"path":"/home/ian/Codes/fo-git/FieldOffice/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ian/Codes/fo-git/FieldOffice/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ian/Codes/fo-git/FieldOffice/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ian/Codes/fo-git/FieldOffice/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/ian/Codes/fo-git/FieldOffice/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  name: 'Employees',\n  data: function data() {\n    return {\n      message: 'Try change me!',\n      name: 'Ian Moncrieffe',\n      user: '',\n      userId: '',\n      employeeModal: false,\n      employees: [],\n      employee: {\n        firstname: '',\n        lastname: '',\n        alias: '',\n        dob: '',\n        sex: '',\n        occupation: '',\n        address: '',\n        timestamp: Date(),\n        author: '',\n        imgs: function imgs() {\n          return {\n            images: []\n          };\n        }\n      }\n    };\n  },\n  components: {\n    'employee-modal': {\n      template: '<h6>EMPLOYEE MODAL<h6>'\n    }\n  },\n  methods: {\n    onClick: function onClick() {\n      this.message = 'Here you go :)';\n    },\n    setUser: function setUser() {\n      var currentUser = document.getElementById('username').innerText;\n      currentUserId = document.getElementById('user-id').innerText;\n      this.user = currentUser;\n      this.userId = currentUserId;\n    },\n    modalActions: function modalActions() {\n      if (this.employeeModal == false) {\n        this.employeeModal = true;\n      } else {\n        this.employeeModal = false;\n      }\n    },\n    createEmployee: function createEmployee() {\n      this.addNewEmployee();\n      this.employeeModal = false;\n    },\n    addNewEmployee: function addNewEmployee() {\n      this.employee.author_id = this.userId;\n      this.employees.push(this.employee);\n      console.log(\"Employee \".concat(this.employee.firstname, \" Created!\"));\n    },\n    deleteEmployee: function deleteEmployee(index) {\n      var employee = this.employees[index];\n      this.employees.splice(index, 1);\n      console.log(\"Employee \".concat(employee.firstname, \" Deleted!\"));\n    },\n    saveNewEmployee: function saveNewEmployee(index) {\n      var employee = this.employees[index];\n      console.log(employee);\n    },\n    getEmployees: function () {\n      var _getEmployees = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var response, employeesData, employees;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.get('http://192.168.0.17:15000/api/employee');\n\n              case 3:\n                response = _context.sent;\n                employeesData = response.data.objects;\n                employees = this.employees;\n                employeesData.forEach(function (employee) {\n                  // construct employee image url\n                  employee.imgs = [];\n                  var eimgUrl = \"http://192.168.0.17:15000/static/images/profile/\".concat(employee.eid, \".png\");\n                  employee.imgs.push(eimgUrl);\n                  employee.profile_img = eimgUrl;\n                  employees.push(employee);\n                  console.log(employee.profile_img);\n                });\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](0);\n                console.error(_context.t0);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 9]]);\n      }));\n\n      function getEmployees() {\n        return _getEmployees.apply(this, arguments);\n      }\n\n      return getEmployees;\n    }()\n  },\n  mounted: function mounted() {\n    this.getEmployees();\n    this.setUser();\n  }\n};",{"version":3,"sources":["Employees.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n <Layout>\n \n  <div class=\"card\">\n   \n   <h2 class=\"bg-purple mt-2  mb-2 text-white rounded-full px-10 p-3\">Vrstan Employees</h2>\n    <h6 class=\"bg-grey p-1\">Current User: </h6>\n    {{ message }}\n    <button @click=\"onClick\">\n      Change\n    </button>\n  \n      <div class=\"flex md:flex-row-reverse flex-wrap\">\n          <div class=\"w-full md:w-3/4 bg-grey p-4 text-center text-grey-lighter\"> \n\n            <table class=\"bg-white text-grey p-5\">\n              <thead class=\"bg-teal h-12 text-center text-white\">\n              <tr>\n                      <th>Profile</th>\n                      <th>Id.</th>        \n                      <th>Name</th>\n                      <th>Occupation</th>\n                      <th>Address</th>\n                      <th>Tel/Mbl.</th>                    \n                      <th>                         \n                              <svg class=\"fill-current text-grey-light w-4 h-4 mr-2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n                                <path d=\"M4 8V6a6 6 0 1 1 12 0v2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z\" />\n                              </svg>                             \n                      </th>\n                      <th></th>\n              </tr>\n              </thead>\n              <tbody v-for=\"employee in employees\" :key=\"employee.eid\">\n                <div>\n                    <tr class=\"border border-grey text-sm text-grey-dark\">                      \n                      <td class=\"p-2\"><img class=\"rounded-full\" width=\"50px\" height=\"50px\" v-bind:src=\"employee.profile_img\"/></td>\n                      <td>{{ employee.eid }}</td>\n                      <td>{{ employee.firstname }} {{ employee.lastname }}</td>\n                     \n                      <td v-if=\"employee.occupation=='mason'\" class=\"bg-teal-lightest\">{{ employee.occupation }}</td>\n                      <td v-else>{{ employee.occupation }}</td>\n                     \n                      <td>{{ employee.address }}</td>\n\n                      <td v-if=\"employee.tel\">{{ employee.tel }}</td>\n                      <td v-else>{{ employee.mobile }}</td> \n                                         \n                      <td> <button class=\"bg-transparent hover:bg-blue text-blue-dark hover:text-white ml-2 mr-2 p-2 rounded\">\n                        Edit</button>\n                    </td>\n                    <td> <button class=\"bg-transparent hover:bg-red text-blue-dark hover:text-white  ml-2 mr-2 p-2 rounded\"\n                      @click=\"deleteEmployee\">\n                      Delete</button>\n                  </td>\n                </tr>\n              </div>\n                    \n              </tbody>\n            </table>           \n          </div>\n\n          <div class=\"w-full md:w-1/4 bg-grey-light p-4 text-center text-grey-darker\">\n            <link rel=\"preload\" href=\"<%= BASE_URL %>favicon.ico\">           \n            <button @click=\"modalActions()\"  class=\"bg-teal text-white font-bold px-4 py-2 mt-5 ml-5 rounded-full\">New employee</button>   \n            \n            <div class=\"bg-white shadow w-64 my-2\">\n            <h6 id=\"username\">Ian</h6> <h6 id=\"user-id\">1</h6>\n              <ul class=\"list-reset\">\n                <li >\n                  <a href=\"#\" class=\"block p-4 text-grey-darker font-bold border-purple hover:bg-grey-lighter border-r-4\">Home</a>\n                </li>\n                <li >\n                  <a href=\"#\" class=\"block p-4 text-grey-darker font-bold border-grey-lighter hover:border-purple-light hover:bg-grey-lighter border-r-4\">About us</a>\n                </li>\n                <li >\n                  <a href=\"#\" class=\"block p-4 text-grey-darker font-bold border-grey-lighter hover:border-purple-light hover:bg-grey-lighter border-r-4\">Services</a>\n                </li>\n                <li >\n                  <a href=\"#\" class=\"block p-4 text-grey-darker font-bold border-grey-lighter hover:border-purple-light hover:bg-grey-lighter border-r-4\">Contact us</a>\n                </li>\n              </ul>\n            </div>\n\n            </div>\n      </div>\n\n  <transition name=\"fade\">\n      <div v-if=\"employeeModal\" class=\"bg-smoke absolute pin-t pin-l h-screen w-full flex items-center justify-center\">\n         \n          <div class=\"bg-white p-4 rounded w-1/2 text-center\">\n              <h2 class=\"bg-teal rounded text-white h-10\">New Employee</h2>\n\n              <form class=\"w-full max-w-md\">\n                <!--.........................Employee Identification......................-->\n                  <div class=\"flex flex-wrap -mx-3 mb-6\">\n                    <div class=\"w-full md:w-1/2 px-3 mb-6 md:mb-0\">\n                      <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-1 mt-5\" for=\"grid-first-name\">\n                        First Name\n                      </label>\n                      <input class=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\" id=\"grid-first-name\" type=\"text\" placeholder=\"Employee First Name...\" v-model=\"employee.firstname\" autocomplete=\"on\">\n                      <p class=\"text-red text-xs italic\">Please fill out this field.</p>\n                    </div>\n\n                    <div class=\"w-full md:w-1/2 px-3\">\n                      <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-1 mt-5\" for=\"grid-last-name\">\n                        Last Name\n                      </label>\n                      <input class=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-grey\" id=\"grid-last-name\" type=\"text\" placeholder=\"Employee Last Name...\" v-model=\"employee.lastname\" autocomplete=\"on\">\n                    </div>\n                  </div>\n                 \n                  <div class=\"flex flex-wrap -mx-3 mb-6\">\n                      <div class=\"w-full md:w-1/2 px-3 mb-6 md:mb-0\">\n                        <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-1\" for=\"grid-alias\">\n                          A.K.A\n                        </label>\n                        <input class=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\" id=\"grid-alias\" type=\"text\" placeholder=\"Also Known as...\" v-model=\"employee.alias\" autocomplete=\"on\">\n                       \n                      </div>\n  \n                      <div class=\"w-full md:w-1/4 px-3\">\n                        <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-1\" for=\"grid-dob\">\n                          D.O.B\n                        </label>\n                        <input class=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-grey\" id=\"grid-dob\" type=\"date\" v-model=\"employee.dob\">\n                      </div>\n                      <div class=\"w-full md:w-1/4 px-3 mb-6 md:mb-0\">\n                        <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-1\" for=\"grid-sex\">\n                          Sex\n                        </label>\n                        <div class=\"relative\">\n                          <select class=\"block appearance-none w-full bg-grey-lighter border border-grey-lighter text-grey-darker py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-grey\" id=\"grid-sex\">\n                            <option>Sex</option>\n                            <option>Female</option>\n                            <option>Male</option>\n                            <option>Other...</option>\n                          </select>\n                          <div class=\"pointer-events-none absolute pin-y pin-r flex items-center px-2 text-grey-darker\">\n                            <svg class=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"/></svg>\n                          </div>                          \n                        </div>\n\n                      </div>\n\n\n                    </div>\n                   <!--.........................Employee Location......................-->\n                \n\n\n                  <div class=\"flex flex-wrap -mx-3 mb-2\">\n                    <div class=\"w-full md:w-1/2 px-3 mb-6 md:mb-0\">\n                      <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-1\" for=\"grid-address\">\n                        Address\n                      </label>\n                      <input class=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-grey\" id=\"grid-address\" type=\"text\" placeholder=\"Address...\" v-model=\"employee.address\">\n                    </div>\n\n                    <div class=\"w-full md:w-1/4 px-3 mb-6 md:mb-0\">\n                      <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-1\" for=\"grid-occupation\">\n                        Occupation\n                      </label>\n                      <input class=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-grey\" id=\"grid-occupation\" type=\"text\" placeholder=\"Occupation...\" v-model=\"employee.occupation\">\n                      </div>\n                      <div class=\"w-full md:w-1/4 px-3 mb-6 md:mb-0\">\n                        <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-1\" for=\"grid-occupation\">\n                          Other Skill\n                        </label>\n                        <input class=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-grey\" id=\"grid-occupation\" type=\"text\" placeholder=\"Other Skill...\" v-model=\"employee.other\">\n                        </div>\n                    </div>\n\n\n                  <div class=\"flex flex-wrap -mx-3 mb-2\">\n                    <div class=\"w-full md:w-1/2 px-3 mb-6 md:mb-0\">\n                      <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-1\" for=\"grid-email\">\n                        Email\n                      </label>\n                      <input class=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-grey\" id=\"grid-address\" type=\"text\" placeholder=\"Email...\" v-model=\"employee.email\">\n                    </div>\n\n                    <div class=\"w-full md:w-1/4 px-3 mb-6 md:mb-0\">\n                      <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-1\" for=\"grid-telephone\">\n                        Telephone\n                      </label>\n                      <input class=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-grey\" id=\"grid-occupation\" type=\"text\" placeholder=\"Telephone...\" v-model=\"employee.tel\">\n                      </div>\n                      <div class=\"w-full md:w-1/4 px-3 mb-6 md:mb-0\">\n                        <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-1\" for=\"grid-mobile\">\n                          Mobile\n                        </label>\n                        <input class=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-grey\" id=\"grid-mobile\" type=\"text\" placeholder=\"Mobile...\" v-model=\"employee.mobile\">\n                        </div>\n                    </div>\n                   \n                   \n\n                    <button @click=\"modalActions()\" class=\"bg-grey text-white font-bold px-4 py-2 mt-5 ml-5 rounded-full\">Cancel</button>\n                    <button-- @click=\"createEmployee()\" class=\"bg-teal text-white font-bold px-4 py-2 mt-5 ml-5 rounded-full cursor-pointer\">Create employee</button-->\n\n                \n                </form>\n             \n             \n\n          </div>\n\n      </div>\n  </transition>\n \n      \n   \n    \n  </div>\n   </Layout>\n</template>\n\n<script>\n\nimport axios from 'axios';\n\nexport default {\n  name: 'Employees',\n  data () {\n    return {\n      message: 'Try change me!',\n      name: 'Ian Moncrieffe',\n      user:'',\n      userId:'',\n      employeeModal: false,\n      employees: [],\n      employee:{\n        firstname: '',\n        lastname:'',\n        alias: '',\n        dob: '',\n        sex: '',\n        occupation:'',\n        address: '',\n        timestamp: Date(),\n        author:'',\n        imgs (){\n          return {\n            images:[]\n          }\n        }\n      }\n    }\n  },\n  components:{           \n      \n    'employee-modal':{\n      \n      template: '<h6>EMPLOYEE MODAL<h6>'\n      }\n  },\n  methods: {\n    onClick () {\n      this.message = 'Here you go :)'\n    },\n    setUser(){\n        const currentUser = document.getElementById('username').innerText; \n          currentUserId = document.getElementById('user-id').innerText;\n          this.user = currentUser;\n          this.userId =  currentUserId;\n\n      },\n      modalActions(){\n          \n        if(this.employeeModal == false){\n            this.employeeModal = true\n        }else{\n            this.employeeModal = false\n        }\n      },\n      createEmployee(){\n        this.addNewEmployee();\n        this.employeeModal = false\n\n      },\n      addNewEmployee(){\n        \n        this.employee.author_id = this.userId;\n\n        this.employees.push(this.employee); \n                 \n        console.log(`Employee ${this.employee.firstname} Created!`);\n      },\n      deleteEmployee(index){\n        const employee = this.employees[index];\n        this.employees.splice(index, 1);\n        \n        console.log(`Employee ${employee.firstname} Deleted!`)\n      },\n      saveNewEmployee(index){\n        const employee = this.employees[index];\n        console.log(employee);\n        \n      },\n      async getEmployees(){\n        try {\n\n          const response = await axios.get('http://192.168.0.17:15000/api/employee');\n          const employeesData = response.data.objects;\n          const employees = this.employees;\n          employeesData.forEach(function(employee) {\n            // construct employee image url\n            employee.imgs = [];\n            const eimgUrl = `http://192.168.0.17:15000/static/images/profile/${employee.eid}.png`\n            employee.imgs.push(eimgUrl);\n            employee.profile_img = eimgUrl;\n\n            employees.push(employee);\n            console.log(employee.profile_img);\n          });\n          \n         \n        } catch (error) {\n          console.error(error);\n        }\n      }\n        \n  },\n  mounted(){\n    this.getEmployees();\n    this.setUser();\n  }\n}\n</script>\n\n<style>\n\n.card {\n  padding: 20px;\n  background: #FFF;\n}\n .bg-smoke {\n      background-color: rgba(0,0,0,.4);\n  }\n  h4 {\n      \n      color: #a89ba8;\n  }\n  /* Enter and leave animations can use different */\n  /* durations and timing functions.              */\n  .fade-enter-active, .fade-leave-active {\n      transition: opacity .7s ease;\n    }\n    .fade-enter, .fade-leave-to\n    /* .slide-fade-leave-active below version 2.1.8 */ {\n      opacity: 0;\n    }\n</style>\n"],"sourceRoot":"src/pages"}]}